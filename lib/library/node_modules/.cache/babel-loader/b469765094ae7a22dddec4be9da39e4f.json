{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { showErrMsg, showSuccessMsg } from '../../utils/notification/Notification';\nimport { isEmpty } from '../../utils/validation/Validation';\nconst initialState = {\n  title: '',\n  link: '',\n  err: '',\n  success: ''\n};\n\nfunction UploadRap() {\n  _s();\n\n  const [rapport, setRapport] = useState(initialState);\n  const {\n    title,\n    link,\n    err,\n    success\n  } = rapport;\n\n  const handleChangeInput = e => {\n    const {\n      title,\n      value\n    } = e.target;\n    setRapport({ ...rapport,\n      [title]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(title) || isEmpty(link)) return setRapport({ ...rapport,\n      err: \"Please fill in all fields.\",\n      success: ''\n    });\n\n    try {\n      const res = await axios.post('/rapport/uploadRap', {\n        title,\n        link\n      });\n      setRapport({ ...rapport,\n        err: '',\n        success: res.data.msg\n      });\n    } catch (err) {\n      err.response.data.msg && setRapport({ ...rapport,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n}\n\n_s(UploadRap, \"pJs1Hn8DVINErb8BdVFYBxgHrTY=\");\n\n_c = UploadRap;\nexport default UploadRap;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadRap\");","map":{"version":3,"sources":["D:/Projet-Isircom-librairie-/lib/library/src/components/body/library/uploadRap.js"],"names":["React","useState","axios","showErrMsg","showSuccessMsg","isEmpty","initialState","title","link","err","success","UploadRap","rapport","setRapport","handleChangeInput","e","value","target","handleSubmit","preventDefault","res","post","data","msg","response"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EAAoBC,cAApB,QAAyC,uCAAzC;AACA,SAAQC,OAAR,QAAsB,mCAAtB;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,IAAI,EAAE,EAFW;AAGjBC,EAAAA,GAAG,EAAE,EAHY;AAIjBC,EAAAA,OAAO,EAAE;AAJQ,CAArB;;AAOA,SAASC,SAAT,GAAqB;AAAA;;AACjB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAACK,YAAD,CAAtC;AAEA,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,GAAd;AAAmBC,IAAAA;AAAnB,MAA8BE,OAApC;;AAGA,QAAME,iBAAiB,GAAGC,CAAC,IAAI;AAC3B,UAAM;AAACR,MAAAA,KAAD;AAAQS,MAAAA;AAAR,QAAiBD,CAAC,CAACE,MAAzB;AACAJ,IAAAA,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAa,OAACL,KAAD,GAAQS,KAArB;AAA4BP,MAAAA,GAAG,EAAE,EAAjC;AAAqCC,MAAAA,OAAO,EAAE;AAA9C,KAAD,CAAV;AACH,GAHD;;AAKA,QAAMQ,YAAY,GAAG,MAAMH,CAAN,IAAW;AAC5BA,IAAAA,CAAC,CAACI,cAAF;AACA,QAAGd,OAAO,CAACE,KAAD,CAAP,IAAkBF,OAAO,CAACG,IAAD,CAA5B,EACQ,OAAOK,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAaH,MAAAA,GAAG,EAAE,4BAAlB;AAAgDC,MAAAA,OAAO,EAAE;AAAzD,KAAD,CAAjB;;AAER,QAAI;AACA,YAAMU,GAAG,GAAG,MAAMlB,KAAK,CAACmB,IAAN,CAAW,oBAAX,EAAiC;AAC/Cd,QAAAA,KAD+C;AACzCC,QAAAA;AADyC,OAAjC,CAAlB;AAIAK,MAAAA,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAaH,QAAAA,GAAG,EAAE,EAAlB;AAAsBC,QAAAA,OAAO,EAAEU,GAAG,CAACE,IAAJ,CAASC;AAAxC,OAAD,CAAV;AACH,KAND,CAME,OAAOd,GAAP,EAAY;AACVA,MAAAA,GAAG,CAACe,QAAJ,CAAaF,IAAb,CAAkBC,GAAlB,IACAV,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAaH,QAAAA,GAAG,EAAEA,GAAG,CAACe,QAAJ,CAAaF,IAAb,CAAkBC,GAApC;AAAyCb,QAAAA,OAAO,EAAE;AAAlD,OAAD,CADV;AAEH;AACJ,GAfD;AAgBH;;GA3BQC,S;;KAAAA,S;AA6BT,eAAeA,SAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport axios from 'axios'\r\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\r\nimport {isEmpty} from '../../utils/validation/Validation'\r\n\r\n\r\nconst initialState = {\r\n    title: '',\r\n    link: '',\r\n    err: '',\r\n    success: ''\r\n}\r\n\r\nfunction UploadRap() {\r\n    const [rapport, setRapport] = useState(initialState)\r\n\r\n    const {title, link, err, success} = rapport\r\n    \r\n\r\n    const handleChangeInput = e => {\r\n        const {title, value} = e.target\r\n        setRapport({...rapport, [title]:value, err: '', success: ''})\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        if(isEmpty(title) || isEmpty(link))\r\n                return setRapport({...rapport, err: \"Please fill in all fields.\", success: ''})\r\n\r\n        try {\r\n            const res = await axios.post('/rapport/uploadRap', {\r\n                title,link\r\n            })\r\n\r\n            setRapport({...rapport, err: '', success: res.data.msg})\r\n        } catch (err) {\r\n            err.response.data.msg && \r\n            setRapport({...rapport, err: err.response.data.msg, success: ''})\r\n        }\r\n    }\r\n}\r\n\r\nexport default UploadRap"]},"metadata":{},"sourceType":"module"}